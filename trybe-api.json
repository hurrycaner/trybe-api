{"_type":"export","__export_format":4,"__export_date":"2021-01-27T01:43:38.667Z","__export_source":"insomnia.desktop.app:v2020.5.2","resources":[{"_id":"req_3098701a1a684433bd0ca3737fae369a","parentId":"fld_6b42578872a1494d9d1df8175097960b","modified":1611705065631,"created":1611679247140,"url":"OLHE A ABA DOCS!","name":"INTRODUÇÃO A API","description":"# Seja bem vindo a TRYBE-API V1!\n\n## Esta API foi desenvolvida por [João Victor Ramires](https://github.com/jramiresbrito) como teste para Engenheiro de Software na [Trybe](https://www.betrybe.com/). O repositório está disponível [aqui](https://github.com/jramiresbrito/trybe-api).\n\nA API foi versionada e, neste momento, você está acessando a **versão V1**. É fácil identificar a versão em utilização através da **url**. Exemplo de url versionada: ```http://trybe-api.herokuapp.com/admin/v1/users```\n\nNos requisitos do teste, havia uma clara intenção do desejo de haver uma inclusão de testes. Portanto, todo o projeto foi desenvolvido utilizando [TDD](https://pt.wikipedia.org/wiki/Test-driven_development) em todos os momentos. Para deixar os testes mais interessantes, resolvi criar sistemas de [Autenticação](https://pt.wikipedia.org/wiki/Autentica%C3%A7%C3%A3o#2._Autentica%C3%A7%C3%A3o_baseada_na_propriedade_%E2%80%93_Login,_senha_e_token) e [Autorização](https://pt.wikipedia.org/wiki/Controle_de_acesso#Autoriza%C3%A7%C3%A3o). Graças à isso, achei conveniente colocar as rotas para lidar com o recurso Users em **/auth/v1**. Existem apenas três exceções que são as ações de **index (listagem)** e **show (detalhes)** que também estão disponíveis em **/admin/v1** para facilitar a vida do usuário, bem como serviço para tornar usuários em administradores também acessível em **/admin/v1**. As rotas para o recurso Posts, estão sob **/admin/v1**.\n\n### Cabeçalhos das requisições\nOs cabeçalhos necessários para cada requisição, estão devidamente preenchidos e comentados na aba HEADERS.\nCaso a descrição dos cabeçalhos não esteja aparecendo, gentileza ativar a visualização através do botão no canto inferior esquerdo, conforme imagem:\n\n![cabeçalhos](https://i.ibb.co/yVxVJhW/trybe-api-testes.png)\n[cabeçalhos](https://i.ibb.co/yVxVJhW/trybe-api-testes.png)\n\n### Testes automatizados.\nForam adicionados 168 testes automatizados para verificar tanto os modelos, considerando as diversas validações, quanto as requisições que consideram os 3 cenários possíveis para cada contexto de teste:\n\n* Usuário logado como Administrador;\n* Usuário logado como Cliente;\n* Usuário não autenticado.\n\n![testes](https://i.ibb.co/S5thKNt/trybe-api-testes.png)\n[testes](https://i.ibb.co/S5thKNt/trybe-api-testes.png)\n\nEsta documentação apresenta descrições e exemplos para cada requisição. Por favor acesse a aba DOCS nas requisições para informações adicionais.\n\nPor fim, gostaria de agradecer a [Trybe](https://www.betrybe.com/) pela oportunidade. Foi um desafio muito satisfatório e me desenvovli bastante durante sua realização.","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1611679247140,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_6b42578872a1494d9d1df8175097960b","parentId":"wrk_a93854c0036b4315bedacf7b60b66511","modified":1611679235915,"created":1611679235915,"name":"Introdução","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1611679235916,"_type":"request_group"},{"_id":"wrk_a93854c0036b4315bedacf7b60b66511","parentId":null,"modified":1611177591097,"created":1611177591097,"name":"Trybe-BE","description":"","scope":null,"_type":"workspace"},{"_id":"req_2b5a754aa9ea4a3da10c22538350629e","parentId":"fld_6b42578872a1494d9d1df8175097960b","modified":1611709674642,"created":1611684381269,"url":"OLHE A ABA DOCS!","name":"Sistema de Autenticação","description":"### Sistema de autenticação.\nO [sistema de autenticação](https://github.com/lynndylanhurley/devise_token_auth) foi escolhido com cautela para assegurar maior segurança à aplicação. Ao invés de simplesmente devolver um token que expira no prazo definido pelo programador, normalmente 1 semana, o sistema dessa API **renova o token a cada requisição**. Graças à isto, mesmo que alguém intercepte uma requisição e obtenha o token, ele sempre estará em posse de um token já vencido e a API torna-se segura. Portanto, atente-se para trocar o cabeçalho **access-token** para cada nova requisição (excluido-se, é claro, as rotas abertas). Se você estiver com a mesma **sessão** não há necessidade de trocar o cabeçalho **client**, mas para novas sessões você precisará trocar (apenas uma vez) também.\n\n*obs: Desativei este comportamento para facilitar o uso da API.*\n\n### Formato de Erros\nO formato de erro que defini foi:\n\n```json\n{\n  \"errors\": {\n    \"fields\": {\n      \"field_1\": [\n        \"mensagem de erro 1\",\n        \"mensagem de erro 2\",\n        \"...\"\n      ],\n      \"field_2\": [\n        \"mensagem de erro 1\",\n        \"mensagem de erro 2\",\n        \"....\"\n      ]\n    }\n  }\n}\n```\n\nExemplo:\n\n```json\n{\n  \"errors\": {\n    \"fields\": {\n      \"title\": [        \n        \"deve ser único\"\n      ],\n      \"content\": [\n        \"não pode ficar em branco\"\n      ]\n    }\n  }\n}\n```","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1611679026269,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_6e6426ff581c45f7b4dc5f47bf372d22","parentId":"fld_6b42578872a1494d9d1df8175097960b","modified":1611687707982,"created":1611684475247,"url":"OLHE A ABA DOCS!","name":"Sistemas de Paginação, Ordenação e Busca","description":"### Sistemas de Paginação, Ordenação e Busca\nForam adicionados sistemas de paginação, ordenação e busca. Sua utilização se dá através de **query params**, por exemplo a requisição abaixo:\n\n```url\nhttp://trybe-api.herokuapp.com/admin/v1/posts?search[content]=Chuck&page=2&length=5&order[title]=desc\n```\n\nIrá retornar todos os posts que contém Chuck no conteúdo (parâmetro search[content]=Chuck) e ordena pelo título em ordem decrescente (order[title]=desc). Caso os resultados sejam muitos, também irá retonar apenas a página 2 (page=2) e cada página conterá 5 elementos (length=5).\n\nComo é possível perceber, os parâmetros search e order são hashes (ou dicionários) e, portanto, é possível realizar pesquisas por quaisquer campos dos modelos bem como ordenar de forma crescente ou decrescente (asc, desc).\n\n#### Caso não sejam informadores valores para o número de página e a quantidade, serão utilizados os valores padrão:\n\n* Página número 1\n* 10 registros por página\n\n*obs: acredito que o insomnia não têm problemas para encodar as URL's automaticamente. Caso sua string não esteja sendo encodada corretamente, por favor utilize algum conversor online como [url encoder](https://www.urlencoder.org/)*\n\n### Meta Informação de Paginação\nPara facilitar a vida, foram adicionadas meta-informações de paginação. As informações são:\n\n* Número da página que foi retornada (page)\n* Quantidade de registros presentes na página retornada (length)\n* Número total de registros (total)\n* Número de total de páginas (total_pages). Note que este número é automaticamente calculado de acordo com o tamanho de página solicitado pelo usuário.\n\nFormato da Meta informação:\n\n```json\n  \"meta\": {\n    \"page\": 1,\n    \"length\": 10,\n    \"total\": 100,\n    \"total_pages\": 10\n  }\n```\n\nOs três sistemas também funcionam de forma independente.\n","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1611678915833.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_1ce674b02d31439ead1b11657b524092","parentId":"fld_6b42578872a1494d9d1df8175097960b","modified":1611711716521,"created":1611711350487,"url":"OLHE A ABA DOCS!","name":"Variáveis de ambiente (insomnia) e Informações adicionais","description":"O Json responsável por criar esta documentação configura um sub-environment com as variáveis necessárias para deixar a utilização da API o mais agradável possível.\n\nÉ de responsabilidade do usuário preencher apenas algumas informações (apenas no início da utilização).\n\nAs variáveis são:\n\n```json\n{\n  \"localBaseUrl\": \"localhost:3000\",\n  \"baseUrl\": \"http://trybe-api.herokuapp.com\",\n  \"token-type\": \"Bearer\",\n  \"expiry\": 1605048337,\n  \"adminToken\": \"REALIZE O LOGIN COM ADMIN E COLOQUE O ACCESS-TOKEN AQUI\",\n  \"adminClient\": \"REALIZE O LOGIN COM ADMIN E COLOQUE O CLIENT-TOKEN AQUI\",\n  \"adminUid\": \"admin@email.com\",\n  \"c1Token\": \"REALIZE O LOGIN COM UM CLIENT À ESCOLHA COLOQUE O ACCESS-TOKEN AQUI\",\n  \"c1Client\": \"REALIZE O LOGIN COM UM CLIENT À ESCOLHA COLOQUE O CLIENT-TOKEN AQUI\",\n  \"c1Uid\": \"COLOQUE O EMAIL DO CLIENT ESCOLHIDO AQUI\",\n  \"c2Token\": \"REALIZE O LOGIN COM UM SEGUNDO CLIENT À ESCOLHA COLOQUE O ACCESS-TOKEN AQUI\",\n  \"c2Client\": \"REALIZE O LOGIN COM UM CLIENT À ESCOLHA COLOQUE O CLIENT-TOKEN AQUI\",\n  \"c2Uid\": \"COLOQUE O EMAIL DO SEGUNDO CLIENTE AQUI\"\n}\n```\n\nComo é fácil perceber, três informações para cada tipo de usuário devem ser preenchidas:\n\n```\naccess-token, client-token e uid\n```\n\nPara obter essas informações, basta realizar o login utilizando o usuário administrador e dois clientes à escolha.\n\nRecordando as credenciais de administrador (criado através do seed do banco)\n\n```json\n\"email\": \"admin@email.com\",\n\"password\": \"123456\"\n```\n\nTodos os usuários do sistema, cadastrados utilizando a seed, possuem password = 123456. Portanto, para selecionar dois clientes é necessário, apenas, realizar uma requisição em index de Users e pegar dois emails que desejar.","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1611678860615.75,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_6d04ab1425de495388c5cbc47dee3a3b","parentId":"fld_5825eca7105e4d62861f5e86be0f9dc8","modified":1611711219784,"created":1611678805398,"url":"{{ _.baseUrl }}/admin/v1/users/3/turn_admin","name":"Tentando acessar um recurso restrito para administradores.","description":"Ao tentar acessar um recurso protegido por **autorização**, caso o usuário forneça credenciais de usuário do tipo **cliente**, a API irá responder com **status 403 Forbidden** e uma mensagem de erro\n\n```json\n{\n  \"errors\": {\n    \"message\": \"Forbidden access\"\n  }\n}\n```","method":"PATCH","body":{},"parameters":[],"headers":[{"name":"access-token","value":"{{ _.c1Token }}","description":"Token de Acesso. Lembre-se de trocar a cada nova requisição.","id":"pair_2991a0eac99e402a9eef36f41491f9df"},{"name":"client","value":"{{ _.c1Client }}","description":"Token de Sessão. Necessário trocar a cada nova sessão.","id":"pair_455925f035b948879fde7d3a4ef833ca"},{"name":"uid","value":"{{ _.c1Uid }}","description":"Email do usuário.","id":"pair_d4038182624b4594ad1c2d72e2807caa"},{"name":"expiry","value":"{{ _.expiry }}","description":"Tipo do token (Bearer)","id":"pair_b83e71562b4c44dc93e678cfb124c0ff"},{"name":"token-type","value":"{{ _['token-type'] }}","description":"Duração da Sessão.","id":"pair_23619f91b11c4ae1bd2c7e1f09a32bcb"}],"authentication":{},"metaSortKey":-1611678805398,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_5825eca7105e4d62861f5e86be0f9dc8","parentId":"fld_2b5b25138fc64d55b2a1012591071ea8","modified":1611677493662,"created":1611677493662,"name":"Exemplos","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1611677493662,"_type":"request_group"},{"_id":"fld_2b5b25138fc64d55b2a1012591071ea8","parentId":"fld_d134952d61694750b5b14bc2ce973d3e","modified":1611254212602,"created":1611254212602,"name":"Users","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1611254212602,"_type":"request_group"},{"_id":"fld_d134952d61694750b5b14bc2ce973d3e","parentId":"fld_69bab7c6a81a4402a69355a5fded3869","modified":1611183833204,"created":1611177639902,"name":"V1","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1611177639902,"_type":"request_group"},{"_id":"fld_69bab7c6a81a4402a69355a5fded3869","parentId":"wrk_a93854c0036b4315bedacf7b60b66511","modified":1611183822782,"created":1611183822782,"name":"Admin","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1611183822782,"_type":"request_group"},{"_id":"req_fa04d3b9030441789101c5833360f30d","parentId":"fld_5825eca7105e4d62861f5e86be0f9dc8","modified":1611682740759,"created":1611678620239,"url":"{{ _.baseUrl }}/admin/v1/users/5/turn_admin","name":"Tentando acessar um recurso protegido sem fornecer credenciais.","description":"Ao tentar acessar uma rota protegida por autenticação, caso o usuário não forneça as **credenciais no cabeçalho**, a API responde com **status 401 Unauthorized**. \n\n```json\n{\n  \"errors\": [\n    \"Para continuar, efetue login ou registre-se.\"\n  ]\n}\n```","method":"PATCH","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1611678620298,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_05f85e30db0c4e1aaefdafbea8f2bb99","parentId":"fld_5825eca7105e4d62861f5e86be0f9dc8","modified":1611700121481,"created":1611687261043,"url":"{{ _.baseUrl }}/admin/v1/users?page=2&length=3","name":"Paginando Usuários (index + paginação)","description":"As rotas de listagem (esta) e detalhes de usuários, não necessitam de autenticação para acesso.\n\n* Endpoint: ```/admin/v1/users```\n\n* Verbo: GET\n\n* Parâmetros: ```page e length```\n\nEste exemplo mostra como utilizar o sistema de paginação ao acessar a listagem de usuários.\n\nEndpoint + parâmetros: ```/admin/v1/users?page=2&length=3```\n\nComo podemos notar, a api irá retornar a página 2 contendo 3 elementos e as meta-informações relacionadas ao recurso de usuários:\n\n```Status 200 - ok```\n\n```json\n {\n   \"users\": [\n    {\n      \"id\": 7,\n      \"name\": \"Alice Fernandes\",\n      \"email\": \"brooks.cole@lynch.com\",\n      \"image\": \"http://grimes.name/georgeann\",\n      \"profile\": \"client\"\n    },\n    {\n      \"id\": 8,\n      \"name\": \"Rebeca Tavares\",\n      \"email\": \"saul_schaefer@krajcik-strosin.net\",\n      \"image\": \"http://towne-kuhlman.net/merrill\",\n      \"profile\": \"client\"\n    },\n    {\n      \"id\": 9,\n      \"name\": \"Milena da Penha\",\n      \"email\": \"mitchell_okon@cummings.info\",\n      \"image\": \"http://nitzsche.co/nadia\",\n      \"profile\": \"client\"\n    }\n  ],\n  \"meta\": {\n    \"page\": 2,\n    \"length\": 3,\n    \"total\": 22,\n    \"total_pages\": 8\n  }\n}\n```\n\n### Os parâmetros page e length também funcionam na ausência um do outro. Neste caso, o parâmetro ausente irá utilizar o valor padrão:\n\n* Página número 1\n* 10 registros por página\n\n### Observação: o campo profile foi deixado propositalmente por fins de facilidade de uso da API. No entanto, gostaria de ressaltar a importância de ocultar campos sensíveis nas respostas.\n","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1611469597972,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_cc6664ce095c4d3bb0e88e39a072f700","parentId":"fld_5825eca7105e4d62861f5e86be0f9dc8","modified":1611700146323,"created":1611688012362,"url":"{{ _.baseUrl }}/admin/v1/users?search[email]=net&order[name]=desc","name":"Realizando buscas nos usuários (index + search)","description":"As rotas de listagem (esta) e detalhes de usuários, não necessitam de autenticação para acesso.\n\n* Endpoint: ```/admin/v1/users```\n\n* Verbo: GET\n\n* Parâmetros: ```search[campo]=valor e order[campo]=valor```\n\nEste exemplo mostra como utilizar o sistema de busca e ordenamento ao acessar a listagem de usuários.\n\nEndpoint + parâmetros: ```/admin/v1/users?search[email]=net&order[name]=desc```\n\nComo os parâmetros de paginação e número de registros não foram informados, a resposta irá trazer a página 1 e 10 registros (se houverem), além disso os usuários foram filtrados pelo campo email contendo a palavra \"net\" e ordenados pelo nome em ordem descendente.\n\n```Status 200 - ok```\n\n```json\n {\n  \"users\": [\n    {\n      \"id\": 8,\n      \"name\": \"Rebeca Tavares\",\n      \"email\": \"saul_schaefer@krajcik-strosin.net\",\n      \"image\": \"http://towne-kuhlman.net/merrill\",\n      \"profile\": \"client\"\n    },\n    {\n      \"id\": 13,\n      \"name\": \"Gael Paiva\",\n      \"email\": \"alex_reinger@rolfson.net\",\n      \"image\": \"http://moen.co/shirlee_skiles\",\n      \"profile\": \"client\"\n    }\n  ],\n  \"meta\": {\n    \"page\": 1,\n    \"length\": 2,\n    \"total\": 2,\n    \"total_pages\": 1\n  }\n}\n```\n\nCaso a busca não encontre resultados a API responderá com um array vazio:\n\nRequisição: ```/admin/v1/users?search[email]=foobar```\n\n```status 200 - ok```\n```json\n{\n  \"users\": [],\n  \"meta\": {\n    \"page\": 1,\n    \"length\": 0,\n    \"total\": 0,\n    \"total_pages\": 0\n  }\n}\n```\n\n### Os parâmetros search e order também funcionam na ausência um do outro. Também é possível combinar múltiplos parâmetros de search. Um exemplo deste caso foi incluído para o recurso de Posts.\n\n### Observação: o campo profile foi deixado propositalmente por fins de facilidade de uso da API. No entanto, gostaria de ressaltar a importância de ocultar campos sensíveis nas respostas.\n","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1611365641988,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_e1823b40812245baa504d7f56563c648","parentId":"fld_5825eca7105e4d62861f5e86be0f9dc8","modified":1611700218140,"created":1611688976690,"url":"{{ _.baseUrl }}/admin/v1/users/600","name":"Detalhes de um usuário (show)","description":"Rota para exibir detalhes de um usuário. Conforme dito antiormente, esta rota não é protegida por autenticação.\nÉ necessário fornecer o **ID** do usuário desejado na url.\n\n* Endpoint: ```/admin/v1/users/:id```\n\n* Verbo: GET\n\nCaso o usuário exista, a resposta contém o formato:\n\nRequisição: ```/admin/v1/users/9```\n\nStatus: ```200 - ok```\n\nCorpo: \n\n```json\n{\n  \"user\": {\n    \"id\": 9,\n    \"name\": \"Milena da Penha\",\n    \"email\": \"mitchell_okon@cummings.info\",\n    \"profile\": \"client\",\n    \"image\": \"http://nitzsche.co/nadia\"\n  }\n}\n```\n\nCaso o usuário não exista, a resposta será:\n\nRequisição: ```/admin/v1/users/600```\n\nStatus: ```404 - Not Found```\n\nCorpo: sem corpo\n\n### Observação: o campo profile foi deixado propositalmente por fins de facilidade de uso da API. No entanto, gostaria de ressaltar a importância de ocultar campos sensíveis nas respostas.","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1611365641938,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_d4367fe8af984551a4afae486ad0dbc1","parentId":"fld_2b5b25138fc64d55b2a1012591071ea8","modified":1611710757978,"created":1611254222231,"url":"{{ _.baseUrl }}/admin/v1/users","name":"/users","description":"Rota para listar todos os usuários. Todas as rotas para ações de **Index e Show estão livres de autenticação e autorização**. O mesmo é verdade para o recurso Posts.\n\nPor favor, verifique os exemplos, para mais informações.","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1611261686004,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_16664dc47bec409e88daad167ea40b64","parentId":"fld_2b5b25138fc64d55b2a1012591071ea8","modified":1611710602778,"created":1611453654716,"url":"{{ _.baseUrl }}/admin/v1/users/9","name":"/users/:id","description":"Rota para exibir detalhes de um usuário. É necessário fornecer o **ID** do usuário desejado na url.","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1611261685979,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_f787d47dd6b54b41a828344d1dc48057","parentId":"fld_2b5b25138fc64d55b2a1012591071ea8","modified":1611711213716,"created":1611416514937,"url":"{{ _.baseUrl }}/admin/v1/users/51/turn_admin","name":"/users/:id/turn_admin","description":"# Serviço para tornar clients em administradores.\n\nEste serviço foi criado com intenção de facilitar a vida do usuário, levando em consideração que este é um projeto desenvolvido para um teste de Engenharia de Software, portanto possíveis discussões sobre segurança estão fora do escopo para este serviço.\n\nIsso não quer dizer que ele não seja seguro, ao contrário, é necessário estar logado como um administrador para ter acesso ao mesmo. No entanto, assim como deixei claro nos comentários dentro do código, acredito que este serviço nem devesse existir. Por segurança, talvez essa ação deveria ser executada de forma manual por pessoa devidamente autorizada. São boas questões para se discutir.\n\nDados os esclarecimentos acima, o serviço está disponível para usuários do tipo administrador e está acessível através da rota ```/users/:id/turn_admin```. Como é perceptível, é necessário fornecer o **ID** do cliente que será transformado em usuário do tipo administrador.\n\n* Endpoint: ```/users/:id/turn_admin```\n\n* Verbo: PATCH\n\n* Proteção: Autenticação e Autorização (apenas admin)\n\nCaso o usuário tente acessar o serviço sem estar autenticado, a API responderá com:\n\nStatus: ```401 Unauthorized```\n\nCorpo:\n\n```json\n{\n  \"errors\": [\n    \"Para continuar, efetue login ou registre-se.\"\n  ]\n}\n```\n\nCaso o usuário forneça credenciais de client, a API responderá com:\n\n\nStatus: ```403 Forbidden```\n\nCorpo: \n```json\n{\n  \"errors\": {\n    \"message\": \"Forbidden access\"\n  }\n}\n```\n\nRequisições válidas, isto é, que fornecem credenciais de admin, são respondidas com:\n\nRequisição: ```/admin/v1/users/51/turn_admin```\n\nStatus: ```200 ok```\n\nE retornam os dados do usuário modificado, já com a atualização para admin.\n\nCorpo: \n```json\n{\n  \"user\": {\n    \"id\": 51,\n    \"name\": \"Sr. Cauã Corte\",\n    \"email\": \"tommie@heller.net\",\n    \"profile\": \"admin\",\n    \"image\": \"http://deckow.io/gay\"\n  }\n}\n```\n\nCaso o ID fornecido não corresponda a nenhum registro do banco de dados, a API responderá com:\n\nRequisição: ```/admin/v1/users/99/turn_admin```\n\nStatus: ```404 Not Found```\n\nCorpo: \n```json\n{\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"exception\": \"#<ActiveRecord::RecordNotFound: Couldn't find User with 'id'=99>\"\n  ...\n}\n```","method":"PATCH","body":{},"parameters":[],"headers":[{"name":"access-token","value":"{{ _.adminToken }}","description":"Token de Acesso. Lembre-se de trocar a cada nova requisição.","id":"pair_b1d60bf4a4fe4a1aaba86a32e0afdf5d","disabled":false},{"name":"client","value":"{{ _.adminClient }}","description":"Token de Sessão. Necessário trocar a cada nova sessão.","id":"pair_5a232a50c03e41e893dd3d70568010b5","disabled":false},{"name":"uid","value":"{{ _.adminUid }}","description":"Email do usuário.","id":"pair_5592fec05eea41e284107210f26f0dd3","disabled":false},{"name":"token-type","value":"{{ _['token-type'] }}","description":"Tipo do token (Bearer)","id":"pair_98e5fce91d5d422aa982aa8dbf5d32c0","disabled":false},{"name":"expiry","value":"{{ _.expiry }}","description":"Duração da Sessão.","id":"pair_faabe22c19d144f5b116c389eed26550","disabled":false}],"authentication":{},"metaSortKey":-1611261685954,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_e367662bf1b24aa7bbf058a1b98fe2f8","parentId":"fld_238786a77bde48d18cd4243d59f49ca3","modified":1611700074874,"created":1611691254874,"url":"{{ _.baseUrl }}/admin/v1/posts?search[content]=Chuck&page=2&length=2&order[title]=desc","name":"Buscando Posts com múltiplos parâmetros, paginação e ordenamento","description":"As rotas de listagem (esta) e detalhes de Posts, não necessitam de autenticação para acesso.\n\n* Endpoint: ```/admin/v1/posts```\n\n* Verbo: GET\n\n* Parâmetros: ```search[campo], page, length, order[campo]```\n\nEste exemplo irá utilizar os sistemas de Paginação, Busca e Ordenamento em conjunto.\n\nEndpoint + parâmetros: ```/admin/v1/posts?search[content]=Chuck&page=2&length=2&order[title]=desc```\n\nIrá retornar todos os posts que contém *Chuck* no conteúdo (parâmetro search[content]=Chuck) e ordena pelo título em ordem decrescente (order[title]=desc). Caso os resultados sejam muitos, também irá retonar apenas a página 2 (page=2) e cada página conterá 2 elementos (length=2).\n\nComo é possível perceber, os parâmetros search e order são hashes (ou dicionários) e, portanto, é possível realizar pesquisas por quaisquer campos dos modelos bem como ordenar de forma crescente ou decrescente (asc, desc).\n\nPortanto o formato da resposta foi resposta foi:\n\nStatus: ```200 - ok```\n\nCorpo:\n```json\n {\n  \"posts\": [\n    {\n      \"id\": 3,\n      \"title\": \"Portal 2\",\n      \"content\": \"Chuck Norris' keyboard doesn't have a F1 key, the computer asks him for help.\",\n      \"created_at\": \"2021-01-26T15:56:02.473Z\",\n      \"updated_at\": \"2021-01-26T15:56:02.473Z\",\n      \"user\": {\n        \"id\": 2,\n        \"name\": \"admin\",\n        \"email\": \"admin@email.com\",\n        \"profile\": \"admin\",\n        \"image\": \"http://cormier-larkin.name/dina\"\n      }\n    },\n    {\n      \"id\": 7,\n      \"title\": \"Pokémon Y\",\n      \"content\": \"There is no Esc key on Chuck Norris' keyboard, because no one escapes Chuck Norris.\",\n      \"created_at\": \"2021-01-26T15:56:02.554Z\",\n      \"updated_at\": \"2021-01-26T15:56:02.554Z\",\n      \"user\": {\n        \"id\": 2,\n        \"name\": \"admin\",\n        \"email\": \"admin@email.com\",\n        \"profile\": \"admin\",\n        \"image\": \"http://cormier-larkin.name/dina\"\n      }\n    }\n  ],\n  \"meta\": {\n    \"page\": 2,\n    \"length\": 2,\n    \"total\": 10,\n    \"total_pages\": 5\n  }\n}\n```\nNote como a meta-informação se mostra útil. É possível ver que, apesar de termos selecionado a página 2 com 2 elementos por página, o total de registro é 10.\n\nAssim como é de se esperar, caso o valor da pesquisa do usuário não seja compatível com nenhum registro, a API retorna um array vazio.\n\nRequisição: ```/admin/v1/posts?search[content]=Morango&page=2&length=5&order[title]=desc```\n\nStatus: ```200 - ok```\n\nCorpo:\n\n```json\n{\n  \"posts\": [],\n  \"meta\": {\n    \"page\": 2,\n    \"length\": 0,\n    \"total\": 0,\n    \"total_pages\": 0\n  }\n}\n```\n\n### Observação: o campo profile foi deixado propositalmente por fins de facilidade de uso da API. No entanto, gostaria de ressaltar a importância de ocultar campos sensíveis nas respostas.\n","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1611178678301.5,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_238786a77bde48d18cd4243d59f49ca3","parentId":"fld_a119187476704a4991b2aaeea09e04ec","modified":1611687206077,"created":1611687206077,"name":"Exemplos","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1611687206077,"_type":"request_group"},{"_id":"fld_a119187476704a4991b2aaeea09e04ec","parentId":"fld_d134952d61694750b5b14bc2ce973d3e","modified":1611183839419,"created":1611177665459,"name":"Posts","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1611177665459,"_type":"request_group"},{"_id":"req_9c8cabdc9dac44768bfddeb0d40930fa","parentId":"fld_238786a77bde48d18cd4243d59f49ca3","modified":1611700026941,"created":1611692009373,"url":"{{ _.baseUrl }}/admin/v1/posts/3","name":"Buscando um Post por ID","description":"As rotas de listagem e detalhes (esta) de Posts, não necessitam de autenticação para acesso.\n\n* Endpoint: ```/admin/v1/posts/:id```\n\n* Verbo: GET\n\nEste exemplo mostra como buscar um post por ID.\n\n\nRequisição: ```/admin/v1/post/3```\n\nStatus: ```200 - ok```\n\nCorpo:\n```json\n {\n  \"post\": {\n    \"id\": 3,\n    \"created_at\": \"2021-01-26T15:56:02.473Z\",\n    \"updated_at\": \"2021-01-26T15:56:02.473Z\",\n    \"title\": \"Portal 2\",\n    \"content\": \"Chuck Norris' keyboard doesn't have a F1 key, the computer asks him for help.\",\n    \"user\": {\n      \"id\": 2,\n      \"name\": \"admin\",\n      \"email\": \"admin@email.com\",\n      \"profile\": \"admin\",\n      \"image\": \"http://cormier-larkin.name/dina\"\n    }\n  }\n}\n```\n\nCaso o ID informado não corresponda a nenhum registro, a API responderá da seguinte forma:\n\nStatus: ```404 Not Found```\n\nCorpo: Sem corpo\n\n### Observação: o campo profile foi deixado propositalmente por fins de facilidade de uso da API. No entanto, gostaria de ressaltar a importância de ocultar campos sensíveis nas respostas.\n","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1611178678295.25,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_01b19d82357d4547b0edb1dbd7ee018c","parentId":"fld_238786a77bde48d18cd4243d59f49ca3","modified":1611711228145,"created":1611692714051,"url":"{{ _.baseUrl }}/admin/v1/posts","name":"Criando novos Posts","description":"Conforme dito anteriormente, apenas as rotas de listagem (index) e e detalhes (show) estão livres de autenticação.\n\nA rota para ação Create está protegida por autenticação mas aberta de autorização. Ou seja, os usuários precisam estar logados para criar novos posts, mas tanto administradores quanto clientes podem criar posts.\n\n* Endpoint: ```/admin/v1/posts```\n\n* Verbo: POST\n\n* Proteção: Autenticação\n\nO usuário **DEVE** fornecer valores para os campos: **title** e **content**. Os campos id, created_at, updated_at e user são preenchidos automaticamente pela API/DB.\n\nCaso o usuário tente criar um post sem fornecer credenciais de acesso, a API responde:\n\nStatus: ```401 Unauthorized```\n\nCorpo:\n```json\n{\n  \"errors\": [\n    \"Para continuar, efetue login ou registre-se.\"\n  ]\n}\n```\n\nCaso o usuário tente criar posts sem preencher os campos title e/ou content, a API responde:\n\nCorpo da requisição (campos title e content vazios):\n```json\n{\n  \"title\": \"\",\n  \"content\": \"\"\n}\n```\n\nStatus da Resposta: ```422 Unprocessable Entity```\n\nCorpo da Resposta: \n\n```json\n{\n  \"errors\": {\n    \"fields\": {\n      \"title\": [\n        \"não pode ficar em branco\"\n      ],\n      \"content\": [\n        \"não pode ficar em branco\"\n      ]\n    }\n  }\n}\n```\n\nRequisições válidas são respondidas com:\n\nCorpo da Requisição:\n\n```json\n{\n  \"title\": \"Title está preenchido\",\n  \"content\": \"Content idem\"\n}\n```\n\nStatus da Resposta: ```200 ok```\n\nCorpo da Resposta: \n\n```json\n{\n  \"post\": {\n    \"id\": 208,\n    \"created_at\": \"2021-01-26T21:40:32.402Z\",\n    \"updated_at\": \"2021-01-26T21:40:32.402Z\",\n    \"title\": \"Title está preenchido\",\n    \"content\": \"Content idem\",\n    \"user\": {\n      \"id\": 31,\n      \"name\": \"admin\",\n      \"email\": \"admin@email.com\",\n      \"profile\": \"admin\",\n      \"image\": \"http://rempel.com/clair.gleichner\"\n    }\n  }\n}\n```\n\n\n### Observação: o campo profile foi deixado propositalmente por fins de facilidade de uso da API. No entanto, gostaria de ressaltar a importância de ocultar campos sensíveis nas respostas.\n","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"title\": \"Title C1\",\n\t\"content\": \"Content C1\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","description":"Tipo do conteúdo","id":"pair_e103c9ff174845b98adb9049b812fdc5","disabled":false},{"name":"access-token","value":"{{ _.c1Token }}","id":"pair_ae429b44d16b4d0ba8dd86496a7ecc3a","description":"Token de Acesso. Lembre-se de trocar a cada nova requisição.","disabled":false},{"name":"client","value":"{{ _.c1Client }}","description":"Token de Sessão. Necessário trocar a cada nova sessão.","id":"pair_d40aa15d568040a68899b9d012021809","disabled":false},{"name":"uid","value":"{{ _.c1Uid }}","description":"Email do usuário.","id":"pair_d1a57e6cad5a409ead9ffd5c43384e59","disabled":false},{"name":"token-type","value":"{{ _['token-type'] }}","description":"Tipo do token (Bearer)","id":"pair_22a3d890bb0d4946910669f4913724e4","disabled":false},{"name":"expiry","value":"{{ _.expiry }}","description":"Duração da Sessão.","id":"pair_413c0efdc15047d4b7e41f303241ed25","disabled":false}],"authentication":{},"metaSortKey":-1611178678245.25,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_ec143b03a7684333b6fa65139b2aa319","parentId":"fld_238786a77bde48d18cd4243d59f49ca3","modified":1611711230857,"created":1611697292505,"url":"{{ _.baseUrl }}/admin/v1/posts/209","name":"Atualizando Posts","description":"Conforme dito anteriormente, apenas as rotas de listagem (index) e e detalhes (show) estão livres de autenticação.\n\nA rota para ação Update está protegida por autenticação e autorização de posse. Ou seja, os usuários precisam estar logados para criar novos posts, mas tanto administradores quanto **clientes autores** dos posts podem atualizar.\n\n* Endpoint: ```/admin/v1/posts/:id```\n\n* Verbo: PATCH\n\n* Proteção: Autenticação e Autorização (apenas o autor do Post ou usuários do tipo Admin podem alterar)\n\nCaso o usuário tente criar um post sem fornecer credenciais de acesso, a API responde:\n\nStatus: ```401 Unauthorized```\n\nCorpo:\n```json\n{\n  \"errors\": [\n    \"Para continuar, efetue login ou registre-se.\"\n  ]\n}\n```\n\nCaso o usuário tente atualizar posts sem enviar corpo na requisição, a API responde:\n\nStatus: ```400 Bad Request```\n\nCorpo da Resposta: \n\n```json\n{\n \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"exception\": \"#<ActionController::ParameterMissing: param is missing or the value is empty: post>\"\n  ...\n}\n```\n\nCaso o usuário tente atualizar posts sem preencher os campos title e/ou content, a API responde:\n\nCorpo da requisição (campos title e content vazios):\n```json\n{\n  \"title\": \"\",\n  \"content\": \"\"\n}\n```\n\nStatus da Resposta: ```422 Unprocessable Entity```\n\nCorpo da Resposta: \n\n```json\n{\n  \"errors\": {\n    \"fields\": {\n      \"title\": [\n        \"não pode ficar em branco\"\n      ],\n      \"content\": [\n        \"não pode ficar em branco\"\n      ]\n    }\n  }\n}\n```\n\nRequisições válidas são respondidas com:\n\nCorpo da Requisição:\n\n```json\n{\n  \"title\": \"Title foi atualizado!!!\", \n}\n```\n\nStatus da Resposta: ```200 ok```\n\nCorpo da Resposta: \n\n```json\n{\n  \"post\": {\n    \"id\": 208,\n    \"created_at\": \"2021-01-26T21:40:32.402Z\",\n    \"updated_at\": \"2021-01-26T21:40:32.402Z\",\n    \"title\": \"Title foi atualizado!!!\",\n    \"content\": \"Content idem\",\n    \"user\": {\n      \"id\": 31,\n      \"name\": \"admin\",\n      \"email\": \"admin@email.com\",\n      \"profile\": \"admin\",\n      \"image\": \"http://rempel.com/clair.gleichner\"\n    }\n  }\n}\n```\n\nCaso um usuário do tipo client, tente atualizar um post que não é de sua autoria, a API responde com:\n\nRequisição: ```/admin/v1/posts/209```\n\nStatus: ```403 Forbidden```\n\nCorpo:\n```json\n{\n  \"errors\": {\n    \"message\": \"Forbidden access\"\n  }\n}\n```\n\n### Observação: o campo profile foi deixado propositalmente por fins de facilidade de uso da API. No entanto, gostaria de ressaltar a importância de ocultar campos sensíveis nas respostas.\n","method":"PATCH","body":{"mimeType":"application/json","text":"{\n\t\"title\": \"Atualizado pelo autor!\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","description":"Tipo do conteúdo","id":"pair_e103c9ff174845b98adb9049b812fdc5","disabled":false},{"name":"access-token","value":"{{ _.c1Token }}","id":"pair_ae429b44d16b4d0ba8dd86496a7ecc3a","description":"Token de Acesso. Lembre-se de trocar a cada nova requisição.","disabled":false},{"name":"client","value":"{{ _.c1Client }}","description":"Token de Sessão. Necessário trocar a cada nova sessão.","id":"pair_d40aa15d568040a68899b9d012021809","disabled":false},{"name":"uid","value":"{{ _.c1Uid }}","description":"Email do usuário.","id":"pair_d1a57e6cad5a409ead9ffd5c43384e59","disabled":false},{"name":"token-type","value":"{{ _['token-type'] }}","description":"Tipo do token (Bearer)","id":"pair_22a3d890bb0d4946910669f4913724e4","disabled":false},{"name":"expiry","value":"{{ _.expiry }}","description":"Duração da Sessão.","id":"pair_413c0efdc15047d4b7e41f303241ed25","disabled":false}],"authentication":{},"metaSortKey":-1611178678229.625,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_081a7dc18b764c65a23468e1b84fd49b","parentId":"fld_238786a77bde48d18cd4243d59f49ca3","modified":1611711233378,"created":1611702193211,"url":"{{ _.baseUrl }}/admin/v1/posts/208","name":"Excluindo Posts","description":"Conforme dito anteriormente, apenas as rotas de listagem (index) e e detalhes (show) estão livres de autenticação.\n\nA rota para ação Destroy está protegida por autenticação e autorização. Ou seja, os usuários precisam estar logados e devem ser do tipo administrador. Esta rota não permite que o autor exclua o próprio post, com o propósito de mostrar as funcionalidades do sistema de autorização.\n\n* Endpoint: ```/admin/v1/posts/:id```\n\n* Verbo: DELETE\n\n* Proteção: Autenticação e Autorização (apenas usuários logados como admin)\n\nCaso o usuário tente excluir um post sem fornecer credenciais de acesso, a API responde:\n\nStatus: ```401 Unauthorized```\n\nCorpo:\n```json\n{\n  \"errors\": [\n    \"Para continuar, efetue login ou registre-se.\"\n  ]\n}\n```\n\nCaso o usuário forneça credenciais de client, a resposta será:\n\nStatus: ```403 Forbidden```\n\nCorpo:\n```json\n{\n  \"errors\": {\n    \"message\": \"Forbidden access\"\n  }\n}\n```\n\nCaso o usuário forneça uma credencial válida de usuário administrativo, a resposta será:\n\nStatus: ```204 No Content```\n\nCorpo: Sem corpo","method":"DELETE","body":{"mimeType":"application/json","text":""},"parameters":[],"headers":[{"name":"access-token","value":"{{ _.adminToken }}","description":"Token de Acesso. Lembre-se de trocar a cada nova requisição.","id":"pair_7a4e8fc3b7854656800dd6455dd9e17f","disabled":false},{"name":"client","value":"{{ _.adminClient }}","description":"Token de Sessão. Necessário trocar a cada nova sessão.","id":"pair_d550698a55374325a12b6e076d314403","disabled":false},{"name":"uid","value":"{{ _.adminUid }}","description":"Email do usuário.","id":"pair_e1a0041422cd49ce838fe811be04bed2","disabled":false},{"name":"token-type","value":"{{ _['token-type'] }}","description":"Tipo do token (Bearer)","id":"pair_de415ca3b063403e93c2923245134878","disabled":false},{"name":"expiry","value":"{{ _.expiry }}","description":"Duração da Sessão.","id":"pair_89f5bb2201fc4c5491ce9a5e61adb945","disabled":false}],"authentication":{},"metaSortKey":-1611178678179.625,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_fed5b70cb3a8418da5432f3731ab1d0c","parentId":"fld_a119187476704a4991b2aaeea09e04ec","modified":1611696355007,"created":1611178658820,"url":"{{ _.baseUrl }}/admin/v1/posts","name":"/posts","description":"Rota para listagem de posts. Maiores informações no exemplo: **Buscando Posts com múltiplos parâmetros, paginação e ordenamento**","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1611178678314,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_7e1e25c8a1e24ccca93217af0d92488e","parentId":"fld_a119187476704a4991b2aaeea09e04ec","modified":1611696381149,"created":1611354462506,"url":"{{ _.baseUrl }}/admin/v1/posts/2","name":"/posts/:id","description":"Rota para exibir detalhes (show) de um post. Maiores informações no exemplo: **Buscando um Post por ID**","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{},"metaSortKey":-1611178678289,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_d8c6dae6ac534ea79bce50a2dd4ee08b","parentId":"fld_a119187476704a4991b2aaeea09e04ec","modified":1611711241970,"created":1611178678264,"url":"{{ _.baseUrl }}/admin/v1/posts","name":"/posts","description":"Rota para criação de novos Posts. Maiores informações no exemplo: **Criando novos Posts**","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"title\": \"Novo Post de Client\",\n\t\"content\": \"Um post de Client\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","description":"Tipo do conteúdo","id":"pair_e103c9ff174845b98adb9049b812fdc5"},{"name":"access-token","value":"{{ _.c1Token }}","id":"pair_ae429b44d16b4d0ba8dd86496a7ecc3a","description":"Token de Acesso. Lembre-se de trocar a cada nova requisição."},{"name":"client","value":"{{ _.c1Client }}","description":"Token de Sessão. Necessário trocar a cada nova sessão.","id":"pair_d40aa15d568040a68899b9d012021809"},{"name":"uid","value":"{{ _.c1Uid }}","description":"Email do Usuário.","id":"pair_d1a57e6cad5a409ead9ffd5c43384e59"},{"name":"token-type","value":"{{ _['token-type'] }}","description":"Tipo do token (Bearer)","id":"pair_22a3d890bb0d4946910669f4913724e4"},{"name":"expiry","value":"{{ _.expiry }}","description":"Duração da Sessão.","id":"pair_413c0efdc15047d4b7e41f303241ed25"}],"authentication":{},"metaSortKey":-1611178678264,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_41dea8542730488a93a091c24061a816","parentId":"fld_a119187476704a4991b2aaeea09e04ec","modified":1611711276116,"created":1611409786856,"url":"{{ _.baseUrl }}/admin/v1/posts/2","name":"/posts/:id","description":"Rota para edição de Posts. Maiores informações no exemplo: **Atualizando Posts**","method":"PATCH","body":{"mimeType":"application/json","text":"{\n\t\"title\": \"\",\n\t\"content\": \"Um novo content\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_6caba2546c7c4fee8465589ff45c2d5c","description":"Tipo do conteúdo"},{"name":"access-token","value":"{{ _.c1Token }}","description":"Token de Acesso. Lembre-se de trocar a cada nova requisição.","id":"pair_7a4e8fc3b7854656800dd6455dd9e17f"},{"name":"client","value":"{{ _.c1Client }}","description":"Token de Sessão. Necessário trocar a cada nova sessão.","id":"pair_d550698a55374325a12b6e076d314403"},{"name":"uid","value":"{{ _.c1Uid }}","description":"Email do Usuário.","id":"pair_e1a0041422cd49ce838fe811be04bed2"},{"name":"token-type","value":"{{ _['token-type'] }}","description":"Tipo do token (Bearer)","id":"pair_de415ca3b063403e93c2923245134878"},{"name":"expiry","value":"{{ _.expiry }}","description":"Duração da Sessão.","id":"pair_89f5bb2201fc4c5491ce9a5e61adb945"}],"authentication":{},"metaSortKey":-1611178678214,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_d83fa441c706490db12bdc9a34c71d2c","parentId":"fld_a119187476704a4991b2aaeea09e04ec","modified":1611711293481,"created":1611410260515,"url":"{{ _.baseUrl }}/admin/v1/posts/6","name":"/posts/:id","description":"Rota para exclusão de um Post. Mais informações no exemplo: **Excluindo um post**","method":"DELETE","body":{"mimeType":"application/json","text":""},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_6caba2546c7c4fee8465589ff45c2d5c","description":"Tipo do conteúdo"},{"name":"access-token","value":"{{ _.adminToken }}","description":"Token de Acesso. Lembre-se de trocar a cada nova requisição.","id":"pair_7a4e8fc3b7854656800dd6455dd9e17f"},{"name":"client","value":"{{ _.adminClient }}","description":"Token de Sessão. Necessário trocar a cada nova sessão.","id":"pair_d550698a55374325a12b6e076d314403"},{"name":"uid","value":"{{ _.adminUid }}","description":"Email do Usuário.","id":"pair_e1a0041422cd49ce838fe811be04bed2"},{"name":"token-type","value":"{{ _['token-type'] }}","description":"Tipo do token (Bearer)","id":"pair_de415ca3b063403e93c2923245134878"},{"name":"expiry","value":"{{ _.expiry }}","description":"Duração da Sessão.","id":"pair_89f5bb2201fc4c5491ce9a5e61adb945"}],"authentication":{},"metaSortKey":-1611178227695,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_b514a921587343e5af80ef0d1d7f23f1","parentId":"fld_c8205b88835a4739939c38a4d5702694","modified":1611704683137,"created":1611702809314,"url":"{{ _.localBaseUrl }}/auth/v1/user","name":"Criando novos usuários","description":"A criação de usuários é bem direta.\n\n* Endpoint: ```/auth/v1/user```\n\n* Verbo: POST\n\nO usuário **DEVE** fornecer valores para os campos: **name**, **email (único)**, **password (no mínimo 6 caracteres)**, **image**. O campo provider é preenchido automaticamente pela API/DB e sempre será do tipo **client**.\n\nCaso o usuário tente criar um post sem fornecer credenciais de acesso, a API responde:\n\nStatus: ```401 Unauthorized```\n\nCorpo:\n```json\n{\n  \"errors\": [\n    \"Para continuar, efetue login ou registre-se.\"\n  ]\n}\n```\n\nCaso o usuário tente registrar-se sem preencher algum dos campos citados, a API responde:\n\nCorpo da requisição (campos email e password vazios):\n```json\n{\n\t\"name\": \"Novo Usuário\",\n\t\"email\": \"\",\n\t\"image\": \"http://s3.amazon.com/3214564adssad3a\",\n\t\"password\": \"\"\t\n}\n```\n\nStatus da Resposta: ```422 Unprocessable Entity```\n\nCorpo da Resposta: \n\n```json\n{\n  \"status\": \"error\",\n  \"data\": {\n    \"id\": null,\n    \"provider\": \"email\",\n    \"uid\": \"\",\n    \"allow_password_change\": false,\n    \"name\": \"Novo Usuário\",\n    \"image\": \"http://s3.amazon.com/3214564adssad3a\",\n    \"email\": \"\",\n    \"profile\": \"client\",\n    \"created_at\": null,\n    \"updated_at\": null\n  },\n  \"errors\": {\n    \"password\": [\n      \"não pode ficar em branco\"\n    ],\n    \"email\": [\n      \"não pode ficar em branco\"\n    ],\n    \"full_messages\": [\n      \"Password não pode ficar em branco\",\n      \"Email não pode ficar em branco\"\n    ]\n  }\n}\n```\n\nO campo email é único. Caso o usuário tente registrar-se com um email já utilizando, a API responde:\n\nCorpo da requisição (campos email e password vazios):\n```json\n{\n\t\"name\": \"Novo Usuário\",\n\t\"email\": \"client3@email.com\",\n\t\"image\": \"http://s3.amazon.com/3214564adssad3a\",\n\t\"password\": \"123456\"\t\n}\n```\n\nStatus da Resposta: ```422 Unprocessable Entity```\n\nCorpo da Resposta: \n\n```json\n{\n  \"status\": \"error\",\n  \"data\": {\n    \"id\": null,\n    \"provider\": \"email\",\n    \"uid\": \"\",\n    \"allow_password_change\": false,\n    \"name\": \"Novo Usuário\",\n    \"image\": \"http://s3.amazon.com/3214564adssad3a\",\n    \"email\": \"client3@email.com\",\n    \"profile\": \"client\",\n    \"created_at\": null,\n    \"updated_at\": null\n  },\n  \"errors\": {\n    \"email\": [\n      \"já está em uso\"\n    ],\n    \"full_messages\": [\n      \"Email já está em uso\"\n    ]\n  }\n}\n```\n\nO campo email é validado de acordo com a ReGex: ```\\A[^@\\s]+@[^@\\s]+\\z```. Caso o usuário tente registrar-se com um email inválido, a API responde:\n\nCorpo da requisição (formato inválido de email):\n```json\n{\n\t\"name\": \"Novo Usuário\",\n\t\"email\": \"client3email.com\",\n\t\"image\": \"http://s3.amazon.com/3214564adssad3a\",\n\t\"password\": \"123456\"\t\n}\n```\n\nStatus da Resposta: ```422 Unprocessable Entity```\n\nCorpo da Resposta: \n\n```json\n{\n  \"status\": \"error\",\n  \"data\": {\n    \"id\": null,\n    \"provider\": \"email\",\n    \"uid\": \"\",\n    \"allow_password_change\": false,\n    \"name\": \"Novo Usuário\",\n    \"image\": \"http://s3.amazon.com/3214564adssad3a\",\n    \"email\": \"client3email.com\",\n    \"profile\": \"client\",\n    \"created_at\": null,\n    \"updated_at\": null\n  },\n  \"errors\": {\n    \"email\": [\n      \"não é um e-mail\"\n    ],\n    \"full_messages\": [\n      \"Email não é um e-mail\"\n    ]\n  }\n}\n```\n\nO password deve conter no mínimo 6 caracteres. Caso o usuário tente registrar-se com um password curto, a API responde:\n\nCorpo da requisição (campos email e password vazios):\n```json\n{\n\t\"name\": \"Novo Usuário\",\n\t\"email\": \"client4@email.com\",\n\t\"image\": \"http://s3.amazon.com/3214564adssad3a\",\n\t\"password\": \"1234\"\t\n}\n```\n\nStatus da Resposta: ```422 Unprocessable Entity```\n\nCorpo da Resposta: \n```json\n{\n  \"status\": \"error\",\n  \"data\": {\n    \"id\": null,\n    \"provider\": \"email\",\n    \"uid\": \"\",\n    \"allow_password_change\": false,\n    \"name\": \"Novo Usuário\",\n    \"image\": \"http://s3.amazon.com/3214564adssad3a\",\n    \"email\": \"client4@email.com\",\n    \"profile\": \"client\",\n    \"created_at\": null,\n    \"updated_at\": null\n  },\n  \"errors\": {\n    \"password\": [\n      \"é muito curto (mínimo: 6 caracteres)\"\n    ],\n    \"full_messages\": [\n      \"Password é muito curto (mínimo: 6 caracteres)\"\n    ]\n  }\n}\n```\n\nRequisições válidas são respondidas com:\n\nCorpo da Requisição:\n```json\n{\n\t\"name\": \"Novo Usuário\",\n\t\"email\": \"client3@email.com\",\n\t\"image\": \"http://s3.amazon.com/3214564adssad3a\",\n\t\"password\": \"123456\"\t\n}\n```\n\nStatus da Resposta: ```200 ok```\n\nCorpo da Resposta: \n\n```json\n{\n  \"status\": \"success\",\n  \"data\": {\n    \"id\": 54,\n    \"provider\": \"email\",\n    \"uid\": \"client3@email.com\",\n    \"allow_password_change\": false,\n    \"name\": \"Novo Usuário\",\n    \"image\": \"http://s3.amazon.com/3214564adssad3a\",\n    \"email\": \"client3@email.com\",\n    \"profile\": \"client\",\n    \"created_at\": \"2021-01-26T23:24:38.648Z\",\n    \"updated_at\": \"2021-01-26T23:24:38.719Z\"\n  }\n```\n\n### *Por segurança, não é possível cadastrar usuários do tipo administrador. Só é possível tornar-se admin através do serviço disponibilizado para isso. Mais detalhes no exemplo: Serviço para tornar clients em administradores.*\n","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"name\": \"Novo Client\",\n\t\"email\": \"client5@email.com\",\n\t\"image\": \"http://s3.amazon.com/3214564adssad3a\",\n\t\"password\": \"123456\"\t\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_d8a576c7cbc642c18cd1ff0ae7da33e3","description":"Tipo de conteúdo."}],"authentication":{},"metaSortKey":-1611177777151,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_c8205b88835a4739939c38a4d5702694","parentId":"fld_5a1eb5bf3d014177bb2612e3866978ff","modified":1611702799274,"created":1611702799274,"name":"Exemplos","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1611702799274,"_type":"request_group"},{"_id":"fld_5a1eb5bf3d014177bb2612e3866978ff","parentId":"fld_1b36b50a3b0a490892f37d9756cd6c00","modified":1611177691837,"created":1611177691837,"name":"V1","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1611177691837,"_type":"request_group"},{"_id":"fld_1b36b50a3b0a490892f37d9756cd6c00","parentId":"wrk_a93854c0036b4315bedacf7b60b66511","modified":1611177650331,"created":1611177650331,"name":"Auth","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1611177650331,"_type":"request_group"},{"_id":"req_9de9b4320a204232bd2191e487a4de0d","parentId":"fld_c8205b88835a4739939c38a4d5702694","modified":1611707985051,"created":1611705185597,"url":"{{ _.localBaseUrl }}/auth/v1/user/sign_in","name":"Logando no sistema. Criando a sessão.","description":"A criação de sessão, a.k.a login, é bem direta.\n\n* Endpoint: ```/auth/v1/user/sign_in```\n\n* Verbo: POST\n\nO usuário **DEVE** fornecer valores para os campos: **email** e **password**.\n\nCaso o usuário tente criar uma sessão sem fornecer credenciais de acesso, ou fornecendo credenciais inválidas, a API responde com:\n\nStatus: ```401 Unauthorized```\n\nCorpo:\n```json\n{\n  \"success\": false,\n  \"errors\": [\n    \"E-mail ou senha inválidos.\"\n  ]\n}\n```\n\nRequisições válidas são respondidas com:\n\nCorpo da Requisição:\n```json\n{\t\n\t\"email\": \"client@email.com\",\t\n\t\"password\": \"123456\"\t\n}\n```\n\nStatus da Resposta: ```200 ok```\n\nCorpo da Resposta: \n\n```json\n{\n  \"data\": {\n    \"id\": 52,\n    \"email\": \"client@email.com\",\n    \"provider\": \"email\",\n    \"name\": \"client\",\n    \"profile\": \"client\",\n    \"image\": \"http://s3.amazon.com/3214564adssad3a\",\n    \"uid\": \"client@email.com\",\n    \"allow_password_change\": false\n  }\n}\n```\n\nO Cabeçalho da Resposta contém o access-token, client, uid e expiry. Conforme explicado anteriormente, o access-token é renovado a cada nova requisição. Portanto, requisições subsequentes devem utilizar o access-token devolvido na resposta da requisição anterior:\n\nCabeçalho da Resposta:\n```\nX-Frame-Options: SAMEORIGIN\nX-XSS-Protection: 1; mode=block\nX-Content-Type-Options: nosniff\nX-Download-Options: noopen\nX-Permitted-Cross-Domain-Policies: none\nReferrer-Policy: strict-origin-when-cross-origin\nContent-Type: application/json; charset=utf-8\naccess-token: VOl7Bg_WvT9RLUc1L6jBdA\ntoken-type: Bearer\nclient: dE-sLNeqtr9tjLoRRnC3kw\nexpiry: 1612310052\nuid: client@email.com\nETag: W/\"8de74f7f2c462822d609ef04dbe892ed\"\nCache-Control: max-age=0, private, must-revalidate\nX-Request-Id: 7b3dff8d-4b9c-40f7-bcb4-b4ea2f4be985\nX-Runtime: 0.364625\nVary: Origin\nTransfer-Encoding: chunked\n```\n","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"email\": \"\",\n\t\"password\": \"123456\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_c5e8a42ea1104b2aa06de93773c7092f","description":"Tipo de conteúdo."}],"authentication":{},"metaSortKey":-1611177777101,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_63bfb9a188ce4d4a9012982c8ca5fc3b","parentId":"fld_c8205b88835a4739939c38a4d5702694","modified":1611708324994,"created":1611705885104,"url":"{{ _.localBaseUrl }}/auth/v1/user/password","name":"Resetando a senha ETAPA 1","description":"O reset de senha buscou ser o mais realista possível. Desenvolvi a API para ser [agnóstica](https://imasters.com.br/desenvolvimento/device-agnostic-desenvolvimento-unico-multiplas-plataformas), isto é, não estar presa a nenhum tipo de interface ou dispositivo específico.\nQuando um usuário deseja resetar sua senha, ele deve passar por um procedimento de duas etapas.\n\n1. Primeiro, deve fazer uma requisição para ```/auth/v1/user/password``` do tipo POST. O corpo dessa requisição deve conter o email do usuário e a url fornecida pelo próprio front-end (está aqui a agnose).\n\nExemplo de requisição:\n\n```json\n{\n\t\"email\": \"admin@email.com\",\n\t\"redirect_url\": \"localhost:3001/change_it\"\n}\n```\n\nA API responderá essa requisição com:\n\nStatus: ```200 ok```\n\nCorpo:\n```json\n{\n  \"success\": true,\n  \"message\": \"Você receberá um e-mail com instruções sobre como redefinir sua senha.\"\n}\n```\n\nCaso o email informado exista no banco de dados, um e-mail com o seguinte formato será enviado:\n\n![email](https://i.ibb.co/xmkbD8j/trybe-api-testes.png)\n[email](https://i.ibb.co/xmkbD8j/trybe-api-testes.png)\n\nO link presente no email contem a url para o formulário de atualização de dados, contendo o token para atualizar a senha fornecida pela API. Segue exemplo do link devolvido pela requisição acima:\n\n```bash\nlocalhost:3001/change_it?reset_password_token=5iVrMV5At81espTAJNCy\n```\n\nDe posse do token, o cliente pode seguir para a etapa 2. (Documentação continua lá)","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"email\": \"admin@email.com\",\n\t\"redirect_url\": \"localhost:3001/change_it\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_376fd019ca8048fa9427ad078f16b580","description":"Tipo de conteúdo."}],"authentication":{},"metaSortKey":-1611177777051,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_cf65e033ecfd42a1bb96a10b69ad7fbf","parentId":"fld_c8205b88835a4739939c38a4d5702694","modified":1611710315813,"created":1611707153573,"url":"{{ _.localBaseUrl }}/auth/v1/user/password","name":"Resetando a senha ETAPA 2","description":"2. Agora que o cliente possui o token, ele deve fazer uma requisição para ```/auth/v1/user/password``` do tipo PATCH. O corpo dessa requisição deve conter o token e os dados que serão atualizados.\n\nCaso o cliente forneça um token inválido, a API responderá com:\n\nRequisição:\n\n```json\n{\n\t\"reset_password_token\": \"\",\n\t\"password\": \"123123\",\n\t\"password_confirmation\": \"123123\"\t\n}\n```\n\nStatus: ```401 Unauthorized```\n\nCorpo:\n```json\n{\n  \"success\": false,\n  \"errors\": [\n    \"Unauthorized\"\n  ]\n}\n```\n\nCaso o cliente forneça um token válido, a API responderá com:\n\nRequisição:\n\n```json\n{\n\t\"reset_password_token\": \"5iVrMV5At81espTAJNCy\",\n\t\"password\": \"123123\",\n\t\"password_confirmation\": \"123123\"\t\n}\n```\n\nStatus: ```200 ok```\n\nCorpo:\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"provider\": \"email\",\n    \"allow_password_change\": false,\n    \"id\": 31,\n    \"email\": \"admin@email.com\",\n    \"name\": \"admin\",\n    \"profile\": \"admin\",\n    \"image\": \"http://rempel.com/clair.gleichner\",\n    \"uid\": \"admin@email.com\",\n    \"created_at\": \"2021-01-25T21:21:04.160Z\",\n    \"updated_at\": \"2021-01-27T00:33:36.906Z\"\n  },\n  \"message\": \"Senha atualizada com sucesso.\"\n}\n```\n\n## Observações adicionais\n\nEm produção, o envio de e-mails não foi configurado por tratar-se de assunto fora do escopo. Note que a requisição utiliza a variável **localBaseUrl** que remete a **localhost:3000**. Caso queira realizar testes com os emails, você pode utilizar algum servidor de email local. Eu recomendo a utilização do [mailcatcher](https://mailcatcher.me/). Caso deseje utilizar outro servidor, gentileza configurar o recebimento de emails na porta 1025.","method":"PATCH","body":{"mimeType":"application/json","text":"{\n\t\"reset_password_token\": \"mcws2qfKoRkW838yMyoQ\",\n\t\"password\": \"123456\",\n\t\"password_confirmation\": \"123456\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_ee79e6069022471282007e49d68e42af","description":"Tipo de conteúdo."}],"authentication":{},"metaSortKey":-1611177777001,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_57ce6d0e9c07471388ba61fe31b41866","parentId":"fld_5a1eb5bf3d014177bb2612e3866978ff","modified":1611704733414,"created":1611177714872,"url":"{{ _.localBaseUrl }}/auth/v1/user","name":"/user","description":"Rota para criação de novos usuários. Maiores detalhes no exemplo: **Criando novos usuários**","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"name\": \"client2\",\n\t\"email\": \"client2@email.com\",\n\t\"image\": \"http://s3.amazon.com/3214564adssad3a\",\n\t\"password\": \"123456\",\n\t\"password_confirmation\": \"123456\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_d8a576c7cbc642c18cd1ff0ae7da33e3","description":"Tipo de conteúdo"}],"authentication":{},"metaSortKey":-1611177777176,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_754560c39b5e491994869f8f10b8d53c","parentId":"fld_5a1eb5bf3d014177bb2612e3866978ff","modified":1611710389156,"created":1611177777126,"url":"{{ _.localBaseUrl }}/auth/v1/user/sign_in","name":"/user/sign_in","description":"Rota para realizar o login no sistema. Mais informações no exemplo: **Logando no sistema. Criando a sessão.**","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"email\": \"admin@email.com\",\n\t\"password\": \"123456\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_88fcb6181ca142a890be96d9ba0d842f"}],"authentication":{},"metaSortKey":-1611177777126,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_b14787ddbbde4c37815dde99372c099e","parentId":"fld_5a1eb5bf3d014177bb2612e3866978ff","modified":1611711196355,"created":1611177860476,"url":"{{ _.baseUrl }}/auth/v1/user/sign_out","name":"/user/sign_out","description":"# Rota para excluir uma sessão, a.k.a logout.\n\nNovamente, a exclusão de sessão é bem direta.\n\n* Endpoint: ```/auth/v1/user/sign_out```\n\n* Verbo: DELETE\n\n","method":"DELETE","body":{},"parameters":[],"headers":[{"name":"access-token","value":"{{ _.adminToken }}","description":"Token de Acesso. Lembre-se de trocar a cada nova requisição.","id":"pair_3450e0378c5c425eb206ee472b41afdd"},{"name":"client","value":"{{ _.adminClient }}","description":"Token de Sessão. Necessário trocar a cada nova sessão.","id":"pair_c1390051a2be4d50a24ea224c1cd1dbd"},{"name":"uid","value":"{{ _.adminUid }}","description":"Email do usuário.","id":"pair_011ffd24db144401812f52e8264e8aca"},{"name":"token-type","value":"{{ _['token-type'] }}","description":"Tipo do token (Bearer)","id":"pair_c7a096a46bfe49358d26590f3428a38a"},{"name":"expiry","value":"{{ _.expiry }}","description":"Duração da Sessão.","id":"pair_e80b3afa24514e6ea914677865debb5d"}],"authentication":{},"metaSortKey":-1611177777076,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_9d7fd20b08e54e82adcf85bd064ee7c7","parentId":"fld_5a1eb5bf3d014177bb2612e3866978ff","modified":1611709916069,"created":1611177963036,"url":"{{ _.localBaseUrl }}/auth/v1/user/password","name":"/user/password","description":"Rota para resetar o password. Maiores detalhes no exemplo: **Resetando a senha ETAPA 1**","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"email\": \"admin@email.com\",\n\t\"redirect_url\": \"localhost:3001/change_it\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_376fd019ca8048fa9427ad078f16b580"}],"authentication":{},"metaSortKey":-1611177777026,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_e88cae9f1dda47919b3babda9d78be24","parentId":"fld_5a1eb5bf3d014177bb2612e3866978ff","modified":1611709925733,"created":1611178062458,"url":"{{ _.baseUrl }}/auth/v1/user/password","name":"/user/password","description":"Rota para resetar o password. Maiores detalhes no exemplo: **Resetando a senha ETAPA 2**","method":"PATCH","body":{"mimeType":"application/json","text":"{\n\t\"reset_password_token\": \"yKV4pb6QbuisknGbNcrs\",\n\t\"password\": \"123123\",\n\t\"password_confirmation\": \"123123\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json","id":"pair_ee79e6069022471282007e49d68e42af"}],"authentication":{},"metaSortKey":-1611177776976,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"env_6241bba83bfb2e0fa459f3155024d6af72ba339c","parentId":"wrk_a93854c0036b4315bedacf7b60b66511","modified":1611708800475,"created":1611177591257,"name":"Base Environment","data":{},"dataPropertyOrder":{},"color":null,"isPrivate":false,"metaSortKey":1611177591257,"_type":"environment"},{"_id":"jar_6241bba83bfb2e0fa459f3155024d6af72ba339c","parentId":"wrk_a93854c0036b4315bedacf7b60b66511","modified":1611177591269,"created":1611177591269,"name":"Default Jar","cookies":[],"_type":"cookie_jar"},{"_id":"spc_2b3012f9580a4eb4a432842cf71fa970","parentId":"wrk_a93854c0036b4315bedacf7b60b66511","modified":1611177591104,"created":1611177591104,"fileName":"Trybe-BE","contents":"","contentType":"yaml","_type":"api_spec"},{"_id":"env_b88b22b8d46c4effbc5d76810a0a55c2","parentId":"env_6241bba83bfb2e0fa459f3155024d6af72ba339c","modified":1611709869691,"created":1611708727882,"name":"Trybe API","data":{"localBaseUrl":"localhost:3000","baseUrl":"http://trybe-api.herokuapp.com","token-type":"Bearer","expiry":1605048337,"adminToken":"REALIZE O LOGIN COM ADMIN E COLOQUE O ACCESS-TOKEN AQUI","adminClient":"REALIZE O LOGIN COM ADMIN E COLOQUE O CLIENT-TOKEN AQUI","adminUid":"admin@email.com","c1Token":"REALIZE O LOGIN COM UM CLIENT À ESCOLHA COLOQUE O ACCESS-TOKEN AQUI","c1Client":"REALIZE O LOGIN COM UM CLIENT À ESCOLHA COLOQUE O CLIENT-TOKEN AQUI","c1Uid":"COLOQUE O EMAIL DO CLIENT ESCOLHIDO AQUI","c2Token":"REALIZE O LOGIN COM UM SEGUNDO CLIENT À ESCOLHA COLOQUE O ACCESS-TOKEN AQUI","c2Client":"REALIZE O LOGIN COM UM CLIENT À ESCOLHA COLOQUE O CLIENT-TOKEN AQUI","c2Uid":"COLOQUE O EMAIL DO SEGUNDO CLIENTE AQUI"},"dataPropertyOrder":{"&":["localBaseUrl","baseUrl","token-type","expiry","adminToken","adminClient","adminUid","c1Token","c1Client","c1Uid","c2Token","c2Client","c2Uid"]},"color":null,"isPrivate":false,"metaSortKey":1611708727883,"_type":"environment"}]}